{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import styled from'styled-components';import{useAuth}from'../context/AuthContext';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  max-width: 400px;\n  margin: 2rem auto;\n  padding: 2rem;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n`;const Title=styled.h1`\n  font-size: 1.75rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: #003366;\n`;const StyledForm=styled(Form)`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;const FormGroup=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;const Label=styled.label`\n  font-weight: bold;\n`;const Input=styled(Field)`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  \n  &:focus {\n    outline: none;\n    border-color: #003366;\n  }\n`;const Error=styled.div`\n  color: #e53935;\n  font-size: 0.875rem;\n`;const Button=styled.button`\n  background-color: #003366;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  \n  &:hover {\n    background-color: #002244;\n  }\n  \n  &:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n  }\n`;const LinkText=styled.div`\n  text-align: center;\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  \n  a {\n    color: #003366;\n    text-decoration: none;\n    font-weight: bold;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;const Alert=styled.div`\n  background-color: #ffebee;\n  color: #c62828;\n  padding: 0.75rem;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n`;const LoginSchema=Yup.object().shape({email:Yup.string().email('Некорректный email').required('Обязательное поле'),password:Yup.string().required('Обязательное поле')});const LoginPage=()=>{const{login,error}=useAuth();const navigate=useNavigate();const[loginError,setLoginError]=useState('');const handleSubmit=async(values,_ref)=>{let{setSubmitting,resetForm}=_ref;setLoginError('');const success=await login({email:values.email,password:values.password});if(success){navigate('/');}else{setLoginError(error||'Не удалось войти. Проверьте ваши учетные данные.');}setSubmitting(false);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\u0412\\u0445\\u043E\\u0434 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443\"}),loginError&&/*#__PURE__*/_jsx(Alert,{children:loginError}),/*#__PURE__*/_jsx(Formik,{initialValues:{email:'',password:''},validationSchema:LoginSchema,onSubmit:handleSubmit,children:_ref2=>{let{isSubmitting}=_ref2;return/*#__PURE__*/_jsxs(StyledForm,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",id:\"email\",name:\"email\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 email\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:Error})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",id:\"password\",name:\"password\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:Error})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:isSubmitting,children:isSubmitting?'Вход...':'Войти'})]});}}),/*#__PURE__*/_jsxs(LinkText,{children:[\"\\u0415\\u0449\\u0435 \\u043D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]})]});};export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","Link","styled","useAuth","Formik","Form","Field","ErrorMessage","Yup","jsx","_jsx","jsxs","_jsxs","Container","div","Title","h1","StyledForm","FormGroup","Label","label","Input","Error","Button","button","LinkText","Alert","LoginSchema","object","shape","email","string","required","password","LoginPage","login","error","navigate","loginError","setLoginError","handleSubmit","values","_ref","setSubmitting","resetForm","success","children","initialValues","validationSchema","onSubmit","_ref2","isSubmitting","htmlFor","type","id","name","placeholder","component","disabled","to"],"sources":["/home/falconexlover/desk/lesnoy dvorik/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useAuth } from '../context/AuthContext';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n\nconst Container = styled.div`\n  max-width: 400px;\n  margin: 2rem auto;\n  padding: 2rem;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n`;\n\nconst Title = styled.h1`\n  font-size: 1.75rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: #003366;\n`;\n\nconst StyledForm = styled(Form)`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst Label = styled.label`\n  font-weight: bold;\n`;\n\nconst Input = styled(Field)`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  \n  &:focus {\n    outline: none;\n    border-color: #003366;\n  }\n`;\n\nconst Error = styled.div`\n  color: #e53935;\n  font-size: 0.875rem;\n`;\n\nconst Button = styled.button`\n  background-color: #003366;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  \n  &:hover {\n    background-color: #002244;\n  }\n  \n  &:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n  }\n`;\n\nconst LinkText = styled.div`\n  text-align: center;\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  \n  a {\n    color: #003366;\n    text-decoration: none;\n    font-weight: bold;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst Alert = styled.div`\n  background-color: #ffebee;\n  color: #c62828;\n  padding: 0.75rem;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n`;\n\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string()\n    .email('Некорректный email')\n    .required('Обязательное поле'),\n  password: Yup.string()\n    .required('Обязательное поле')\n});\n\nconst LoginPage = () => {\n  const { login, error } = useAuth();\n  const navigate = useNavigate();\n  const [loginError, setLoginError] = useState('');\n  \n  const handleSubmit = async (values, { setSubmitting, resetForm }) => {\n    setLoginError('');\n    \n    const success = await login({\n      email: values.email,\n      password: values.password\n    });\n    \n    if (success) {\n      navigate('/');\n    } else {\n      setLoginError(error || 'Не удалось войти. Проверьте ваши учетные данные.');\n    }\n    \n    setSubmitting(false);\n  };\n  \n  return (\n    <Container>\n      <Title>Вход в систему</Title>\n      \n      {loginError && <Alert>{loginError}</Alert>}\n      \n      <Formik\n        initialValues={{ email: '', password: '' }}\n        validationSchema={LoginSchema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting }) => (\n          <StyledForm>\n            <FormGroup>\n              <Label htmlFor=\"email\">Email</Label>\n              <Input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Введите ваш email\" />\n              <ErrorMessage name=\"email\" component={Error} />\n            </FormGroup>\n            \n            <FormGroup>\n              <Label htmlFor=\"password\">Пароль</Label>\n              <Input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Введите ваш пароль\" />\n              <ErrorMessage name=\"password\" component={Error} />\n            </FormGroup>\n            \n            <Button type=\"submit\" disabled={isSubmitting}>\n              {isSubmitting ? 'Вход...' : 'Войти'}\n            </Button>\n          </StyledForm>\n        )}\n      </Formik>\n      \n      <LinkText>\n        Еще нет аккаунта? <Link to=\"/register\">Зарегистрироваться</Link>\n      </LinkText>\n    </Container>\n  );\n};\n\nexport default LoginPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}