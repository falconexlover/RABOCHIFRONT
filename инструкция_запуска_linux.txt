# Гостиничный комплекс "Лесной Дворик" - Инструкция по запуску на Linux

## Требования

* Node.js (версия 14.x или выше)
* npm (версия 6.x или выше)
* Git

## Шаг 1: Клонирование репозитория

1. Откройте терминал
2. Выполните команду для клонирования репозитория:
   ```
   git clone https://github.com/falconexlover/sitectestoviy.git
   ```
3. Перейдите в директорию проекта:
   ```
   cd sitectestoviy
   ```

## Шаг 2: Установка зависимостей и запуск Backend

1. Перейдите в директорию backend:
   ```
   cd backend
   ```
2. Установите необходимые зависимости:
   ```
   npm install
   ```
3. Запустите сервер:
   ```
   node server.js
   ```

Альтернативный вариант (для разработки с автоматическим перезапуском при изменении файлов):
```
npm install -g nodemon
nodemon server.js
```

Бэкенд будет запущен на порту 5000 (http://localhost:5000/api)

## Шаг 3: Установка зависимостей и запуск Frontend (в новом терминале)

1. Откройте новый терминал
2. Перейдите в директорию проекта (если вы еще не находитесь в ней):
   ```
   cd sitectestoviy
   ```
3. Перейдите в директорию frontend:
   ```
   cd frontend
   ```
4. Установите необходимые зависимости:
   ```
   npm install
   ```
5. Запустите приложение в режиме разработки:
   ```
   npm start
   ```

Фронтенд будет запущен на порту 3000 (http://localhost:3000)

## Шаг 4: Доступ к приложению

После успешного запуска обеих частей проекта:

1. Откройте браузер и перейдите по адресу http://localhost:3000
2. Веб-интерфейс гостиничного комплекса "Лесной Дворик" будет доступен для использования

## Запуск обоих серверов одновременно (опционально)

Если вы хотите запустить оба сервера (frontend и backend) одновременно, можно использовать пакет concurrently:

1. В корневой директории проекта создайте или обновите package.json:
   ```
   echo '{"scripts": {"start": "concurrently \"cd backend && node server.js\" \"cd frontend && npm start\""}}' > package.json
   ```
2. Установите concurrently:
   ```
   npm install --save-dev concurrently
   ```
3. Запустите оба сервера:
   ```
   npm start
   ```

## Настройка для production-окружения

Для работы в production-окружении рекомендуется:

1. Собрать frontend:
   ```
   cd frontend && npm run build
   ```
2. Настроить сервер (например, Nginx) для раздачи статических файлов из директории `frontend/build`
3. Запустить backend через процесс-менеджер, например, PM2:
   ```
   npm install -g pm2
   pm2 start backend/server.js
   ```

## Возможные проблемы и их решение

1. Порт 3000 или 5000 уже используется
   ```
   # Найти процесс, использующий порт
   sudo lsof -i :3000   # или :5000
   
   # Завершить процесс
   kill -9 <PID>
   ```

2. Ошибки при установке зависимостей
   ```
   # Очистить кэш npm
   npm cache clean --force
   
   # Повторить установку
   npm install
   ```

3. Проблемы с правами доступа
   ```
   # Изменить владельца файлов
   sudo chown -R $(whoami) .
   ```

## Контакты для поддержки

При возникновении проблем обращайтесь по email: info@lesnoy-dvorik.ru
Телефон: +7 (498) 483-19-41 