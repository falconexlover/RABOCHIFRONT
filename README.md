# Гостиничный комплекс "Лесной Дворик"

Полноценная система управления гостиничным комплексом, включающая веб-сайт для клиентов и CRM-систему для администраторов.

## Возможности

### Для гостей:
- Просмотр и поиск номеров с фильтрами по датам, вместимости и типу
- Бронирование номеров
- Управление личными бронированиями
- Личный кабинет с историей бронирований

### Для администраторов:
- Полное управление номерами (добавление, редактирование, удаление)
- Управление бронированиями (подтверждение, отмена, просмотр)
- Управление клиентами и их данными
- Аналитика и отчеты (загруженность, популярные номера, доходы)

## Технический стек

### Backend:
- Node.js с Express
- PostgreSQL с Sequelize ORM
- JSON Web Token для аутентификации
- Nodemailer для отправки уведомлений по email

### Frontend:
- React.js с React Router
- Styled Components для стилизации
- Formik и Yup для форм и валидации
- React Datepicker для работы с датами
- Chart.js для отображения аналитики

## Структура проекта

```
/backend
  /config        - конфигурация DB и других сервисов
  /controllers   - логика обработки запросов
  /middlewares   - промежуточное ПО (например, аутентификация)
  /models        - модели данных для ORM
  /routes        - определение API маршрутов

/frontend
  /public        - статические файлы
  /src
    /assets      - изображения, шрифты и т.д.
    /components  - переиспользуемые компоненты React
    /context     - React контексты (например, для аутентификации)
    /hooks       - пользовательские React хуки
    /pages       - компоненты страниц
    /services    - сервисы для взаимодействия с API
    /utils       - вспомогательные функции
```

## Установка и запуск

### Backend

1. Установите зависимости:
   ```bash
   cd backend
   npm install
   ```

2. Настройте переменные окружения:
   Создайте файл `.env` на основе `.env.example`

3. Запустите сервер:
   ```bash
   npm run dev
   ```

### Frontend

1. Установите зависимости:
   ```bash
   cd frontend
   npm install
   ```

2. Запустите приложение:
   ```bash
   npm start
   ```

## Архитектура базы данных

### Основные таблицы:
- **Users**: пользователи системы (клиенты, администраторы)
- **Rooms**: номера отеля
- **Bookings**: бронирования

## API эндпоинты

### Аутентификация
- POST `/api/auth/register` - регистрация пользователя
- POST `/api/auth/login` - аутентификация пользователя
- GET `/api/auth/profile` - получение профиля пользователя
- PUT `/api/auth/profile` - обновление профиля
- PUT `/api/auth/change-password` - изменение пароля

### Номера
- GET `/api/rooms` - получение всех номеров
- GET `/api/rooms/:id` - получение информации о номере
- GET `/api/rooms/available` - получение доступных номеров на даты
- POST `/api/rooms` - создание номера (только админ)
- PUT `/api/rooms/:id` - обновление номера (только админ)
- DELETE `/api/rooms/:id` - удаление номера (только админ)

### Бронирования
- POST `/api/bookings` - создание бронирования
- GET `/api/bookings` - получение бронирований пользователя
- GET `/api/bookings/:id` - получение информации о бронировании
- PUT `/api/bookings/cancel/:id` - отмена бронирования
- GET `/api/bookings/admin/all` - получение всех бронирований (админ)
- PUT `/api/bookings/admin/status/:id` - изменение статуса бронирования (админ)

### Клиенты (админ)
- GET `/api/customers` - получение всех клиентов
- GET `/api/customers/:id` - получение информации о клиенте
- GET `/api/customers/search` - поиск клиентов
- GET `/api/customers/:id/stats` - статистика по клиенту

### Аналитика (админ)
- GET `/api/analytics/overall` - общая статистика
- GET `/api/analytics/period` - статистика за период
- GET `/api/analytics/forecast` - прогноз загруженности
- GET `/api/analytics/popular-rooms` - популярные номера

## Разработчики

- [Ваше имя] - Ведущий разработчик

## Лицензия

MIT 